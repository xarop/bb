(function(n){const t=function(){return new acf.Model({wait:"ready",initialize:function(){const e=n('[data-layout="blockAnchor"]:not(.acf-clone)');e.length>0&&e.find("input[name*=blockAnchor_anchor]").each(function(s,c){const l=n(c);d(l,l.val())})}})},r=function(e,s){s.closest('[data-layout="blockAnchor"]:not(.acf-clone)').length>0&&d(n(e.currentTarget),s.val())},d=function(e,s){const l=e.closest('[data-layout="blockAnchor"]:not(.acf-clone)').find(".anchorLink-url");if(l){const f=l.data("href");s=o(s);const u=`${f}#${s}`;l.text(u)}},o=function(e){return e=e.replace(/[^A-Za-z0-9]/g,"-").toLowerCase(),e},i=function(e,s){e.preventDefault();const c=s.closest('[data-layout="blockAnchor"]:not(.acf-clone)');if(c.length>0){const l=c.find(".anchorLink-url"),f=c.find(".anchorLink-message");navigator.clipboard?navigator.clipboard.writeText(l.text()).then(function(){f.show().delay(5e3).hide("fast")}).catch(function(){alert("Oops! Something went wrong...")}):document.execCommand("copy")}},a=function(){return new acf.Model({events:{"keyup input[name*=blockAnchor_anchor]":"onChangeText","click [data-copy-anchor-link]":"copyToClipboard"},onChangeText:r,copyToClipboard:i})};typeof acf<"u"&&(t(),a())})(jQuery);document.addEventListener("mouseenter",n=>{const{target:t}=n;if(typeof t=="object"&&t!==null&&"getAttribute"in t&&t.matches("a[data-layout]")){const r=t.dataset.layout;p(r,t)}},!0);document.addEventListener("mouseleave",n=>{const{target:t}=n;typeof t=="object"&&t!==null&&"getAttribute"in t&&t.matches("a[data-layout]")&&h(t)},!0);function p(n,t){const r=m(n),d=`${FlyntData.templateDirectoryUri}/${FeatureFlexibleContentExtension.components[r]}/screenshot.png`,o=document.createElement("div");o.classList.add("flyntComponentScreenshot-imageWrapper"),t.append(o);const i=document.createElement("img");i.classList.add("flyntComponentScreenshot-previewImageLarge"),i.src=d,o.prepend(i)}function h(n){n.querySelector(".flyntComponentScreenshot-imageWrapper").remove()}function m(n){return n.substr(0,1).toUpperCase()+n.substr(1)}if(window.acf){const n=window.acf.Model.extend({wait:"ready",events:{'click [data-name="add-layout"]':"onClick"},initialize:function(){document.body.addEventListener("click",t=>{t.target.classList.contains("flyntComponentSearch-field")&&t.stopPropagation()},!1)},onClick:function(t,r){document.querySelectorAll(".acf-fc-popup").forEach(o=>{const i=o.classList.contains("top")?"top":"bottom";if(this.render(o,i),o.classList.contains("top")){const a=r[0],e=a.getBoundingClientRect().bottom,s=a.getBoundingClientRect().height,c=window.innerHeight-window.scrollY-e+s+10;o.style.top="auto",o.style.bottom=`${c}px`}})},render:function(t,r){const{placeholder:d,noResults:o}=window.FeatureFlexibleContentExtension.labels;if(t.querySelector(".flyntComponentSearch"))return;t.insertAdjacentHTML(r==="top"?"beforeend":"afterbegin",`<div class="flyntComponentSearch">
          <input type="text" placeholder="${d}" class="flyntComponentSearch-field">
          <div class="flyntComponentSearch-noResults" hidden>${o}</div>
        </div>`);const i=t.querySelector(".flyntComponentSearch-field"),a=t.querySelector(".flyntComponentSearch-noResults"),e=t.querySelectorAll("ul li");i.focus(),i.addEventListener("input",s=>{const c=s.target.value.toLowerCase().split(" ").filter(f=>f),l=this.filterComponents(c,e);a.toggleAttribute("hidden",l)})},filterComponents:function(t,r){const d=[];return r.forEach(o=>{const i=o.innerText.toLowerCase(),a=t.every(e=>i.indexOf(e)>-1);o.style.display=a?"block":"none",a&&d.push(a)}),d.length>0}});new n}(function(n){const t=function(){acf.addAction("select2_init",function(r,d,o,i){const a=i.$el;a.data("name")==="reusableComponent"&&r.on("change",{$fieldEl:a},function(){const e=n(this).val(),s=n(this).find("option:selected").text(),c=a.find(".reusable-postLink"),l=c.attr("data-postId"),f=a.find("[hidden]"),u=c.attr("href");f.removeAttr("hidden"),c.text(s),c.attr("data-postId",e),c.attr("href",u.replace(l,e))})})};typeof acf<"u"&&t()})(jQuery);
